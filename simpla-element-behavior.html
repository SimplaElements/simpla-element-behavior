<script>"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},DEFAULT_CONFIG={getCallback:"_updateFromSimpla",setCallback:"_updateSimplaBuffer",updateOn:[]},ERRORS={NO_SIMPLA:"Cannot find Simpla, ensure it is included before this component"};window.SimplaBehaviors=window.SimplaBehaviors||{},SimplaBehaviors.Element={properties:{path:{type:String,observer:"_initSimplaPath"},editable:{type:Boolean,notify:!0},loaded:{type:Boolean,readOnly:!0,notify:!0,value:!1},__simplaObservers:{type:Object,value:function(){return{}}}},created:function(){if(!window.Simpla)throw new Error(ERRORS.NO_SIMPLA)},attached:function(){var e=this,t=this.__simplaConfig,a=t.dataProperties,i=t.updateOn,s=t.setCallback;a.forEach(function(t){e._addObserverEffect(t,s)}),i.forEach(function(t){e.listen(e,t,s)}),this.editable=this.editable||Simpla.getState("editable"),this._observeSimplaEditable()},detached:function(){var e=this;Object.keys(this.__simplaObservers).forEach(function(t){e.__simplaObservers[t].unobserve()}),this.__simplaObservers={}},setupSimpla:function(e){this.__simplaConfig=_extends({},DEFAULT_CONFIG,e)},_initSimplaPath:function(e){var t=this,a=this.__simplaConfig,i=a.getCallback,s=a.setCallback;this._setLoaded(!1),Simpla.get(e).then(function(e){e.path!==t.path||(e&&e.data?(t[i](e),t._setLoaded(!0)):t[s]())}),this._observeSimplaBuffer(e)},_observeSimplaBuffer:function(e){var t=this,a=this.__simplaObservers,i=this.__simplaConfig.getCallback;e&&(a.buffer&&a.buffer.unobserve(),a.buffer=Simpla.observe(e,function(a){a&&a.data&&e===a.path&&t[i](a)}))},_updateSimplaBuffer:function(){var e=this,t=this.__simplaConfig,a=t.type,i=t.dataProperties,s={};if(i.forEach(function(t){return s[t]=e[t]}),this.path)return Simpla.set(this.path,{type:a,data:s})},_updateFromSimpla:function(e){_extends(this,e.data)},_observeSimplaEditable:function(){var e=this,t=this.__simplaObservers;t.editable&&t.editable.unobserve(),t.editable=Simpla.observeState("editable",function(t){e.editable=t})}}</script> 